{{ define "main" }}
<div class="coloring-page-hero">
    <div class="container">
        <div class="breadcrumb">
            <a href="/">Головна</a>
            <span>/</span>
            <a href="/coloring-pages/">Розмальовки</a>
            {{ if .Params.categories }}
            <span>/</span>
            <a href="/categories/{{ index .Params.categories 0 | urlize }}/">{{ index .Params.categories 0 }}</a>
            {{ end }}
            <span>/</span>
            <span>{{ .Title }}</span>
        </div>
    </div>
</div>

<article class="coloring-page-content">
    <div class="container">
        <div class="coloring-page-grid">
            <!-- Main Image -->
            <div class="coloring-main">
                <div class="coloring-image-container">
                    {{ if .Params.image }}
                    <img src="{{ .Params.image }}" alt="{{ .Title }}" class="coloring-main-image" id="coloringImage">
                    {{ else }}
                    <div class="coloring-placeholder">
                        <svg width="200" height="200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="9" cy="9" r="2"/>
                            <path d="21 15l-3.086-3.086a2 2 0 00-2.828 0L6 21"/>
                        </svg>
                        <p>Зображення розмальовки</p>
                    </div>
                    {{ end }}
                    
                    <!-- Image Actions -->
                    <div class="image-actions">
                        <button class="action-btn" onclick="downloadImage()" title="Завантажити">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7,10 12,15 17,10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                        </button>
                        <button class="action-btn" onclick="printImage()" title="Друкувати">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6,9 6,2 18,2 18,9"/>
                                <path d="6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                                <rect x="6" y="14" width="12" height="8"/>
                            </svg>
                        </button>
                        <button class="action-btn" onclick="shareImage()" title="Поділитися">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="18" cy="5" r="3"/>
                                <circle cx="6" cy="12" r="3"/>
                                <circle cx="18" cy="19" r="3"/>
                                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Sidebar Info -->
            <div class="coloring-sidebar">
                <header class="coloring-header">
                    <h1 class="coloring-title">{{ .Title }}</h1>
                    
                    <!-- Meta Information -->
                    <div class="coloring-meta">
                        {{ if .Params.categories }}
                        <div class="meta-item">
                            <span class="meta-label">Категорія:</span>
                            <div class="meta-tags">
                                {{ range .Params.categories }}
                                <a href="/categories/{{ . | urlize }}/" class="meta-tag category-tag">{{ . }}</a>
                                {{ end }}
                            </div>
                        </div>
                        {{ end }}
                        
                        {{ if .Params.ages }}
                        <div class="meta-item">
                            <span class="meta-label">Вік:</span>
                            <div class="meta-tags">
                                {{ range .Params.ages }}
                                <span class="meta-tag age-tag">{{ . }}</span>
                                {{ end }}
                            </div>
                        </div>
                        {{ end }}
                        
                        {{ if .Params.difficulty }}
                        <div class="meta-item">
                            <span class="meta-label">Складність:</span>
                            <span class="meta-tag difficulty-tag difficulty-{{ .Params.difficulty | lower }}">{{ .Params.difficulty }}</span>
                        </div>
                        {{ end }}
                        
                        <div class="meta-item">
                            <span class="meta-label">Додано:</span>
                            <time class="meta-date">{{ .Date.Format "2 January 2006" }}</time>
                        </div>
                    </div>
                </header>
                
                <!-- Description -->
                {{ if .Content }}
                <div class="coloring-description">
                    {{ .Content }}
                </div>
                {{ end }}
                
                <!-- Download Buttons -->
                <div class="download-section">
                    <h3 class="download-title">Завантажити та роздрукувати</h3>
                    <div class="download-buttons">
                        <button class="btn btn-primary download-btn" onclick="downloadImage()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7,10 12,15 17,10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Завантажити PDF
                        </button>
                        <button class="btn btn-outline print-btn" onclick="printImage()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6,9 6,2 18,2 18,9"/>
                                <path d="6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                                <rect x="6" y="14" width="12" height="8"/>
                            </svg>
                            Друкувати
                        </button>
                    </div>
                    <p class="download-note">Безкоштовно для особистого використання</p>
                </div>
                
                <!-- Tips -->
                <div class="coloring-tips">
                    <h3 class="tips-title">Поради для розмальовування</h3>
                    <ul class="tips-list">
                        <li>Використовуйте якісний папір для кращого результату</li>
                        <li>Почніть з світлих кольорів, потім переходьте до темних</li>
                        <li>Не поспішайте - насолоджуйтесь процесом!</li>
                        <li>Експериментуйте з різними матеріалами: олівці, фломастери, акварель</li>
                    </ul>
                </div>
                
                <!-- Share -->
                <div class="share-section">
                    <h3 class="share-title">Поділитися</h3>
                    <div class="share-buttons">
                        <button class="share-btn facebook" onclick="shareOnFacebook()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </button>
                        <button class="share-btn telegram" onclick="shareOnTelegram()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0C5.374 0 0 5.374 0 12s5.374 12 12 12 12-5.374 12-12S18.626 0 12 0zm5.568 8.16c-.169 1.858-.896 6.728-.896 6.728-.379 2.655-.648 3.068-.648 3.068-.208.618-.435.618-.435.618s-.697.106-1.307-.106c-.61-.213-2.542-1.187-2.542-1.187s-1.532-.937-2.624-.937c-1.092 0-1.092 1.23-1.092 1.23s.38 5.013.38 5.013.213 1.137-.137 1.137-1.116-.65-1.116-.65-6.424-5.537-6.424-5.537-1.004-.71-.65-1.597c.354-.888 1.357-.888 1.357-.888s8.961-6.065 8.961-6.065.65-.472 1.24-.177.472.826.472.826z"/>
                            </svg>
                        </button>
                        <button class="share-btn viber" onclick="shareOnViber()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M11.398.006C9.473.095 7.795.406 6.334 1.134c-.833.415-1.565.95-2.182 1.595C3.279 3.59 2.488 4.615 1.886 5.83c-.694 1.402-1.009 2.986-1.009 4.64 0 1.778.366 3.552 1.057 5.215.308.743.71 1.455 1.193 2.112.201.275.418.536.652.782l.04.041v2.416l2.659-1.439c.176.072.354.138